<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gi·ªè h√†ng ‚Äì TINA Bakery</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
</head>

<body>

    <!-- üßÅ HEADER -->
    <header class="header">
        <div class="logo">
            <img src="hinh/LG.png" alt="Tina Bakery Logo">
            <span>TINA Bakery</span>
        </div>
        <nav class="nav">
            <a href="index.html" class="active">Trang ch·ªß</a>
            <a href="sanpham.html">Th·ª±c ƒë∆°n</a>
            <a href="cart.html">Gi·ªè h√†ng</a>
            <a href="lienhe.html">Li√™n h·ªá</a>
        </nav>
    </header>

    <!-- üß∫ CART -->
    <section class="cart-section">
        <h2>üß∫ Gi·ªè h√†ng c·ªßa b·∫°n</h2>
        <div id="cart-items"></div>
        <div id="cart-total"></div>

        <div class="cart-buttons">
            <button class="btn" id="clear-cart">üóëÔ∏è X√≥a to√†n b·ªô</button>
            <button class="btn" id="thanhtoan-btn">üíñ ƒê·∫∑t h√†ng</button>
        </div>
    </section>

    <!-- üßæ FOOTER -->
    <footer class="footer">
        <div>
            <h3>TINA Bakery</h3>
            <p>B√°nh t∆∞∆°i m·ªói ng√†y ‚Äì ƒë·∫≠m h∆∞∆°ng v·ªã y√™u th∆∞∆°ng.</p>
        </div>
        <div>
            <h3>Bakery</h3>
            <a href="banhmi.html">B√°nh m√¨</a>
            <a href="banhkem.html">B√°nh kem</a>
            <a href="pastry.html">Pastry</a>
        </div>
        <div>
            <h3>Beverages</h3>
            <a href="caffe.html">Coffee</a>
            <a href="tra.html">Tea</a>
            <a href="sinhto.html">Smoothies</a>
        </div>
        <div>
            <h3>Theo d√µi ch√∫ng t√¥i</h3>
            <a href="https://www.facebook.com/share/p/19G6HyzMJU/" target="_blank">Facebook</a>
            <a href="https://www.instagram.com/p/DGcvU5bIabW/?igsh=ZWt3dmliMjRzeW4w" target="_blank">Instagram</a>
            <a href="https://vt.tiktok.com/ZSUoANfdc/" target="_blank">TikTok</a>
        </div>
        <div>
            <h3>Li√™n h·ªá</h3>
            <p><strong>ƒê·ªãa ch·ªâ:</strong> 123 ƒê∆∞·ªùng Hoa H·ªìng, Qu·∫≠n 3, TP. H·ªì Ch√≠ Minh</p>
            <p><strong>Hotline:</strong> 0901 234 567</p>
            <p><strong>Email:</strong> tinabakery@gmail.com</p>
        </div>
        <div class="footer-bottom">
            ¬© 2025 TINA Bakery | Designed with üíñ by Nguyen Minh Phuong
        </div>
    </footer>


    <!-- üíª SCRIPT GI·ªé H√ÄNG -->
    <script>
        // üõí L·∫•y gi·ªè h√†ng t·ª´ LocalStorage
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        const cartItemsDiv = document.getElementById("cart-items");
        const cartTotalDiv = document.getElementById("cart-total");

        // üßÅ Hi·ªÉn th·ªã gi·ªè h√†ng
        function renderCart() {
            cartItemsDiv.innerHTML = "";
            let total = 0;

            if (cart.length === 0) {
                cartItemsDiv.innerHTML = "<p>Gi·ªè h√†ng tr·ªëng üç∞</p>";
                cartTotalDiv.innerHTML = "";
                return;
            }

            cart.forEach((item, index) => {
                const price = typeof item.price === "number" ?
                    item.price :
                    parseFloat(item.price.replace(/[^\d]/g, ""));
                const qty = item.qty || 1;
                total += price * qty;

                cartItemsDiv.innerHTML += `
          <div class="cart-item">
            <img src="${item.img}" alt="${item.name}">
            <div class="info">
              <h3>${item.name}</h3>
              <p>${price.toLocaleString()} ‚Ç´</p>
              <div class="quantity">
                <button class="qty-btn" onclick="changeQty(${index}, -1)">‚àí</button>
                <span>${qty}</span>
                <button class="qty-btn" onclick="changeQty(${index}, 1)">+</button>
              </div>
            </div>
            <div class="subtotal">${(price * qty).toLocaleString()} ‚Ç´</div>
            <button class="remove" onclick="removeItem(${index})">X√≥a</button>
          </div>
        `;
            });

            cartTotalDiv.innerHTML = `<h3>T·ªïng c·ªông: ${total.toLocaleString()} ‚Ç´</h3>`;
            localStorage.setItem("cart", JSON.stringify(cart));
        }

        // üçû TƒÉng / gi·∫£m s·ªë l∆∞·ª£ng
        function changeQty(index, delta) {
            if (!cart[index].qty) cart[index].qty = 1;
            cart[index].qty = Math.max(1, cart[index].qty + delta);
            localStorage.setItem("cart", JSON.stringify(cart));
            renderCart();
        }

        // ‚ùå X√≥a 1 s·∫£n ph·∫©m
        function removeItem(i) {
            cart.splice(i, 1);
            localStorage.setItem("cart", JSON.stringify(cart));
            renderCart();
        }

        // üóëÔ∏è X√≥a to√†n b·ªô gi·ªè h√†ng
        document.getElementById("clear-cart").onclick = () => {
            if (confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a to√†n b·ªô gi·ªè h√†ng kh√¥ng?")) {
                localStorage.removeItem("cart");
                cart = [];
                renderCart();
            }
        };

        // üíñ Chuy·ªÉn sang trang thanh to√°n
        document.getElementById("thanhtoan-btn").onclick = () => {
            if (cart.length === 0) {
                alert("üõí Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng!");
            } else {
                window.location.href = "thanhtoan.html";
            }
        };

        // üîÑ G·ªçi h√†m hi·ªÉn th·ªã ban ƒë·∫ßu
        renderCart();
    </script>
</body>

</html>